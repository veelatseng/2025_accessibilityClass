<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>GN1140102E</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/style.css" />
    <style>
      em {
        font-style: normal;
        color: red;
      }
      label {
        display: block;
        margin-bottom: 0.5em;
        font-weight: bold;
      }
      input {
        width: 100%;
        max-width: 260px;
        padding: 0.5rem;
        border: 2px solid #ccc;
        border-radius: 4px;
        font-size: 1rem;
        box-sizing: border-box;
        outline: none;
      }

      input.error {
        border-color: red;
        background-color: #fff6f6;
      }

      .form-message {
        margin-top: 0.5em;
        margin-bottom: 0.5em;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 0.4em;
        font-size: 1em;
      }

      .form-message.error {
        color: red;
      }

      .form-message.success {
        color: #0a8a0a;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <form id="myForm" novalidate>
        <label for="password"> <em>(必填)</em> 請輸入密碼： </label>
        <input
          type="password"
          id="password"
          name="password"
          required
          aria-describedby="password-message"
          aria-invalid="false"
        />
        <div
          id="password-message"
          class="form-message"
          aria-live="polite"
        ></div>

        <button type="submit">提交</button>
      </form>
      <div class="code">
        <iframe
          height="300"
          style="width: 100%"
          scrolling="no"
          title="Untitled"
          src="https://codepen.io/hwrlafht-the-flexboxer/embed/zxGxbVO?default-tab=html%2Cresult&theme-id=light"
          frameborder="no"
          loading="lazy"
          allowtransparency="true"
          allowfullscreen="true"
        >
          See the Pen
          <a href="https://codepen.io/hwrlafht-the-flexboxer/pen/zxGxbVO">
            Untitled</a
          >
          by Veela (<a href="https://codepen.io/hwrlafht-the-flexboxer"
            >@hwrlafht-the-flexboxer</a
          >) on <a href="https://codepen.io">CodePen</a>.
        </iframe>
      </div>
    </div>
    <script>
      const form = document.getElementById("myForm");
      const passwordInput = document.getElementById("password");
      const message = document.getElementById("password-message");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        const value = passwordInput.value.trim();
        const valid = /^(?=.*[A-Za-z])(?=.*\d).{8,}$/.test(value);

        if (!valid) {
          passwordInput.classList.add("error");
          passwordInput.setAttribute("aria-invalid", "true");
          message.classList.remove("success");
          message.classList.add("error");
          message.innerHTML = `<svg aria-hidden="true" width="24px" height="24px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="none"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#ff0000" fill-rule="evenodd" d="M8 1a2.143 2.143 0 00-1.827 1.024l-5.88 9.768a2.125 2.125 0 00.762 2.915c.322.188.687.289 1.06.293h11.77a2.143 2.143 0 001.834-1.074 2.126 2.126 0 00-.006-2.124L9.829 2.028A2.149 2.149 0 008 1zM7 11a1 1 0 011-1h.007a1 1 0 110 2H8a1 1 0 01-1-1zm1.75-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z" clip-rule="evenodd"></path></g></svg>
        <span>密碼至少八碼，包含英文與數字</span>`;
        } else {
          passwordInput.classList.remove("error");
          passwordInput.setAttribute("aria-invalid", "false");
          message.classList.remove("error");
          message.classList.add("success");
          message.innerHTML = `<svg aria-hidden="true" width="24px" height="24px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="none"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill="#24a413" fill-rule="evenodd" d="M8 0a8 8 0 100 16A8 8 0 008 0zm2.72 5.22a.75.75 0 111.06 1.06l-4.5 4.5a.75.75 0 01-1.06 0l-2-2a.75.75 0 011.06-1.06l1.47 1.47 3.97-3.97z" clip-rule="evenodd"></path></g></svg>
        <span>密碼格式正確</span>`;
        }
      });
    </script>
  </body>
</html>
